<% include partials/head %>
  <body background="bg.png">
        <div class="content">
              <h1 class="headText">Welcome to Serler</h1>
              <div class="title">Create an account</div>
              <form action="/login" method="post" >
                      
                         <div class="form-group">
                          <input  type="email" placeholder="Email" class="form-control font20" name="email" required/>
                        
                      </div>

                      <div class="form-group">
                        <input id="password" type="password" onclick="passVal()" placeholder="Password" class="form-control font20" name="password" minlength="8" required  />
                      </div>

                      <div class="form-group">
                        <input id="confirm_password" type="password" placeholder="Confirm Password" class="form-control font20" name="confirm_password" required />
                      </div>

                      <div>
                        <button id="submitBtn" type="submit" class="form-control font20 sgnup" disabled="true"><i class="fa fa-check" style="font-size:28px;color:#fff"></i></button>
                      </div>
        </form>
              <div class="social"> <span>or sign up with social media</span></div>
              <div class="buttons">
                    <a href="/auth/facebook" class="btn btn-primary font25"><span class="fa fa-facebook"></span>&nbsp;&nbsp;Facebook</a>
                     <!-- <a href="/auth/twitter" class="btn btn-info"><span class="fa fa-twitter"></span> Twitter</a> -->
                    <a href="/auth/google" class="btn btn-danger font25"><span class="fa fa-google-plus"></span>&nbsp;&nbsp;Google</a>
        </div>
              <div class="already">Already have an account? <a href="/login">&nbsp;Login</a></div>
        </div>
  </body>
   
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script>
        $('#password,#confirm_password').on('keyup', function (){
             if ($('#password').val() == $('#confirm_password').val()) 
                {
             $('#confirm_password').css('color', 'green');
             document.getElementById("submitBtn").disabled = false;   
}
             else
                {
            $('#confirm_password').css('color', 'red');
            document.getElementById("submitBtn").disabled = true;
}
        });
    </script>
    <script>
     function passVal() {
     var p = document.getElementById('password').value,
        errors = [];
    if (p.length < 8) {
        errors.push("Your password must be at least 8 characters");
        document.getElementById("submitBtn").disabled = true;
    }
    if (p.search(/[a-z]/i) < 0) {
        errors.push("Your password must contain at least one letter.");
        document.getElementById("submitBtn").disabled = true;
    }
    if (p.search(/[0-9]/) < 0) {
        errors.push("Your password must contain at least one digit.");
        document.getElementById("submitBtn").disabled = true;
    }
    if (p.search(/[#?!@$%^&*-]/) < 0) { 
        errors.push("Your password must contain at least one special character."); 
        document.getElementById("submitBtn").disabled = true;
    }      
    if (p.search(/[A-Z]/) < 0) { 
        errors.push("Your password must contain at least one uppercase letter.");
        document.getElementById("submitBtn").disabled = true;
    }
    if ($('#password').val() !== $('#confirm_password').val()) {
        errors.push("Password Mismatch!");
        $('#confirm_password').css('color', 'red');
        document.getElementById("submitBtn").disabled = true;
    }        
    if (errors.length > 0) {
        document.getElementById("submitBtn").disabled = true;
        alert(errors.join("\n"));
        return false;   
    }  
    else
     {   
         $('#confirm_password').css('color', 'green');
         document.getElementById("submitBtn").disabled = false;  
         return true;
     }   
};
    </script>
  </html>